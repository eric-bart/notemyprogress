{"version":3,"sources":["../src/setweeks.js"],"names":["define","Vue","Vuetify","Axios","Sortable","Draggable","Datepicker","Moment","Alertify","Pageheader","add_collapsabled_property_to_weeks","content","i","week","weeks","length","collapsabled","init","use","component","delimiters","el","vuetify","data","display_settings","settings","new_group","scroll_mode","weeks_started_at","Date","weekstart","strings","sections","courseid","userid","raw_weeks","disabled_dates","days","saving_loader","error_messages","save_successful","mounted","document","querySelector","style","display","computed","start_weeks","weekend","get_end_week","get_start_week","methods","section_name","section","name","section_exist","exist","exists","format_name","position","customFormatter","date","weeks_start_at","format","add_week","push","hours_dedications","removable","has_items","array","remove_week","index","close_delete_confirm","element_index","indexOf","splice","ask_delete_confirm","delete_confirm","pass_week","start_date","add","start_week","end_date","get_date_next_day","requested_day","output_format","toLowerCase","current_day","parseInt","save_changes","empty_weeks","error","error_empty_week","weeks_deleted_from_course","error_section_removed","confirm","save_warning_content","action","newinstance","minify_query","method","url","M","cfg","wwwroot","params","then","response","status","ok","success","error_network","catch","finally","warning","cancel_action","set","title","save_warning_title","labels","cancel","confirm_cancel","confirm_ok","minify","forEach","wk","h","s","e","sid","sectionid","JSON","stringify","week_position","section_position","exists_mistakes","change_collapsabled","course_finished","finished","last","end","now","get_settings_status","visible","Object","keys","map","key","plugin_visible","plugin_hidden","get_help_content","help_contents","help","description"],"mappings":"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","sourcesContent":["define([\"local_fliplearning/vue\",\r\n        \"local_fliplearning/vuetify\",\r\n        \"local_fliplearning/axios\",\r\n        \"local_fliplearning/sortablejs\",\r\n        \"local_fliplearning/draggable\",\r\n        \"local_fliplearning/datepicker\",\r\n        \"local_fliplearning/moment\",\r\n        \"local_fliplearning/alertify\",\r\n        \"local_fliplearning/pageheader\",\r\n    ],\r\n    function(Vue, Vuetify, Axios, Sortable, Draggable, Datepicker, Moment, Alertify, Pageheader) {\r\n        \"use strict\";\r\n\r\n        function init(content) {\r\n            content = add_collapsabled_property_to_weeks(content);\r\n            Vue.use(Vuetify);\r\n            Vue.component('draggable', Draggable);\r\n            Vue.component('datepicker', Datepicker);\r\n            Vue.component('pageheader', Pageheader);\r\n            const app = new Vue({\r\n                delimiters: [\"[[\", \"]]\"],\r\n                el: \"#setweeks\",\r\n                vuetify: new Vuetify(),\r\n                data: {\r\n                    display_settings: false,\r\n                    settings: content.settings,\r\n                    new_group: false,\r\n                    scroll_mode: false,\r\n                    weeks_started_at: new Date(Moment(Number(content.weeks[0].weekstart)*1000)),\r\n                    strings: content.strings,\r\n                    sections: content.sections,\r\n                    courseid: content.courseid,\r\n                    userid: content.userid,\r\n                    raw_weeks: content.weeks,\r\n                    disabled_dates: {\r\n                        days: [0, 2, 3, 4, 5, 6]\r\n                    },\r\n                    saving_loader: false,\r\n                    error_messages: [],\r\n                    save_successful: false\r\n                },\r\n                mounted() {\r\n                    document.querySelector(\"#setweeks-loader\").style.display = \"none\";\r\n                    document.querySelector(\"#setweeks\").style.display = \"block\";\r\n                },\r\n                computed: {\r\n                    weeks() {\r\n                        for (let i = 0; i < this.raw_weeks.length; i++) {\r\n                            let week = this.raw_weeks[i];\r\n                            if (i == 0) {\r\n                                let start_weeks = this.weeks_started_at;\r\n                                week.weekstart = start_weeks;\r\n                                week.weekend = this.get_end_week(this.weeks_started_at);\r\n                            } else {\r\n                                week.weekstart = this.get_start_week(this.raw_weeks[i - 1].weekend);\r\n                                week.weekend = this.get_end_week(week.weekstart);\r\n                            }\r\n                        }\r\n                        return this.raw_weeks;\r\n                    }\r\n                },\r\n                methods: {\r\n                    section_name(section) {\r\n                        let name = null;\r\n                        if (typeof (section.section_name) != 'undefined' && section.section_name.length > 0) {\r\n                            name = section.section_name;\r\n                        } else {\r\n                            name = section.name;\r\n                        }\r\n                        return name;\r\n                    },\r\n\r\n                    section_exist(section) {\r\n                        let exist = true;\r\n                        if (typeof (section) != 'undefined' && typeof (section.exists) != 'undefined' && section.exists == false) {\r\n                            exist = false;\r\n                        }\r\n                        return exist;\r\n                    },\r\n\r\n                    format_name(name, position) {\r\n                        return name + \" \" + (position + 1);\r\n                    },\r\n\r\n                    customFormatter(date) {\r\n                        let weeks_start_at = Moment(date).format('YYYY-MM-DD');\r\n                        return weeks_start_at;\r\n                    },\r\n\r\n                    add_week() {\r\n                        this.raw_weeks.push({\r\n                            name: this.strings.week,\r\n                            position: (this.weeks.length + 1),\r\n                            weekstart: null,\r\n                            weekend: null,\r\n                            collapsabled: false,\r\n                            hours_dedications: 0,\r\n                            removable: true,\r\n                            sections: []\r\n                        });\r\n                    },\r\n\r\n                    has_items(array) {\r\n                        return array.length > 0;\r\n                    },\r\n\r\n                    remove_week(week, index) {\r\n                        if (index == 0) {\r\n                            return null;\r\n                        }\r\n                        this.close_delete_confirm();\r\n                        for (let i = 0; i < week.sections.length; i++) {\r\n                            this.sections.push(week.sections[i]);\r\n                        }\r\n                        let element_index = this.raw_weeks.indexOf(week);\r\n                        this.raw_weeks.splice(element_index, 1);\r\n                    },\r\n\r\n                    ask_delete_confirm() {\r\n                        this.delete_confirm = true;\r\n                    },\r\n\r\n                    close_delete_confirm() {\r\n                        this.delete_confirm = false;\r\n                    },\r\n\r\n                    get_start_week(pass_week) {\r\n                        let start_date = Moment(Moment(pass_week).add(1, 'days')).format('YYYY-MM-DD');\r\n                        return start_date;\r\n                    },\r\n\r\n                    get_end_week(start_week) {\r\n                        let end_date = Moment(Moment(start_week).add(6, 'days')).format('YYYY-MM-DD');\r\n                        return end_date;\r\n                    },\r\n\r\n                    get_date_next_day(requested_day, date, output_format = null) {\r\n                        requested_day = requested_day.toLowerCase();\r\n                        let current_day = Moment(date).format('dddd').toLowerCase();\r\n                        while (current_day != requested_day) {\r\n                            date = Moment(date).add(1, 'days');\r\n                            current_day = Moment(date).format('dddd').toLowerCase();\r\n                        }\r\n                        if (output_format) {\r\n                            date = date.format(output_format);\r\n                        } else {\r\n                            if (typeof (date) != 'number') {\r\n                                date = parseInt(date.format(\"x\"));\r\n                            }\r\n                        }\r\n                        return date;\r\n                    },\r\n\r\n                    position(index) {\r\n                        index++;\r\n                        return `${index} - `;\r\n                    },\r\n\r\n                    save_changes() {\r\n                        this.save_successful = false;\r\n                        this.error_messages = [];\r\n                        if (this.empty_weeks()) {\r\n                            this.saving_loader = false;\r\n                            Alertify.error(this.strings.error_empty_week);\r\n                            this.error_messages.push(this.strings.error_empty_week);\r\n                            return false;\r\n                        }\r\n                        if (this.weeks_deleted_from_course()) {\r\n                            this.saving_loader = false;\r\n                            this.error_messages.push(this.strings.error_section_removed);\r\n                            return false;\r\n                        }\r\n\r\n                        Alertify.confirm(this.strings.save_warning_content,\r\n                            ()=>{\r\n                                this.saving_loader = true;\r\n                                var weeks = this.weeks;\r\n                                weeks[0].weekstart = Moment(weeks[0].weekstart).format(\"YYYY-MM-DD\");\r\n                                var data = {\r\n                                    action: \"saveconfigweek\",\r\n                                    userid: this.userid,\r\n                                    courseid: this.courseid,\r\n                                    newinstance: this.new_group,\r\n                                    weeks: this.minify_query(weeks) // Stringify is a hack to clone object :D\r\n                                };\r\n\r\n                                Axios({\r\n                                    method: 'get',\r\n                                    url: M.cfg.wwwroot + \"/local/fliplearning/ajax.php\",\r\n                                    params: data,\r\n                                }).then((response) => {\r\n                                    if (response.status == 200 && response.data.ok) {\r\n                                        this.settings = response.data.data.settings;\r\n                                        Alertify.success(this.strings.save_successful);\r\n                                        this.save_successful = true;\r\n                                    } else {\r\n                                        Alertify.error(this.strings.error_network);\r\n                                        this.error_messages.push(this.strings.error_network);\r\n                                    }\r\n                                }).catch((e) => {\r\n                                    Alertify.error(this.strings.error_network);\r\n                                    this.error_messages.push(this.strings.error_network);\r\n                                }).finally(() => {\r\n                                    this.saving_loader = false;\r\n                                });\r\n                            },\r\n                            ()=>{ // ON CANCEL\r\n                                this.saving_loader = false;\r\n                                Alertify.warning(this.strings.cancel_action);\r\n                            }).set({title: this.strings.save_warning_title})\r\n                            .set({labels: {cancel: this.strings.confirm_cancel, ok: this.strings.confirm_ok}});\r\n                    },\r\n\r\n                    minify_query(weeks) {\r\n                        var minify = [];\r\n                        weeks.forEach(week => {\r\n                            var wk = new Object();\r\n                            wk.h = week.hours_dedications;\r\n                            wk.s = week.weekstart;\r\n                            wk.e = week.weekend;\r\n                            wk.sections = [];\r\n                            week.sections.forEach(section => {\r\n                                var s = new Object();\r\n                                s.sid = section.sectionid;\r\n                                wk.sections.push(s);\r\n                            });\r\n                            minify.push(wk);\r\n                        });\r\n                        return JSON.stringify(minify);\r\n                    },\r\n\r\n                    empty_weeks() {\r\n                        if (this.weeks.length >= 2 && this.weeks[0].sections.length < 1) {\r\n                            return true;\r\n                        }\r\n                        for (let i = 0; i < this.weeks.length; i++) {\r\n                            if (i > 0 && this.weeks[i].sections.length <= 0) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                        return false;\r\n                    },\r\n\r\n                    weeks_deleted_from_course() {\r\n                        for (var week_position = 0; week_position < this.weeks.length; week_position++) {\r\n                            for (var section_position = 0; section_position < this.weeks[week_position].sections.length; section_position++) {\r\n                                if (!this.section_exist(this.weeks[week_position].sections[section_position])) {\r\n                                    return true;\r\n                                }\r\n                            }\r\n                        }\r\n                        return false;\r\n                    },\r\n\r\n                    exists_mistakes() {\r\n                        let exists_mistakes = this.error_messages.length > 0;\r\n                        return exists_mistakes;\r\n                    },\r\n\r\n                    change_collapsabled(index) {\r\n                        this.raw_weeks[index].collapsabled = !this.raw_weeks[index].collapsabled;\r\n                    },\r\n\r\n                    course_finished() {\r\n                        let finished = false;\r\n                        let last = this.weeks.length - 1;\r\n                        let end = Moment(this.weeks[last].weekend).format(\"X\");\r\n                        let now = Moment().format(\"X\");\r\n                        if (now > end) {\r\n                            finished = true;\r\n                        } else {\r\n                            finished = false;\r\n                        }\r\n                        return finished;\r\n                    },\r\n\r\n                    get_settings_status() {\r\n                        let visible = true;\r\n                        Object.keys(this.settings).map(key => {\r\n                            if (!this.settings[key]) {\r\n                                visible = false;\r\n                            }\r\n                        });\r\n                        let status = visible ? this.strings.plugin_visible : this.strings.plugin_hidden;\r\n                        return status;\r\n                    },\r\n\r\n                    get_help_content() {\r\n                        var help_contents = [];\r\n                        var help = new Object();\r\n                        help.title = this.strings.title;\r\n                        help.description = this.strings.description;\r\n                        help_contents.push(help);\r\n                        return help_contents;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function add_collapsabled_property_to_weeks(content) {\r\n            for (let i = 0; i < content.weeks.length; i++) {\r\n                let week = content.weeks[i];\r\n                if (typeof (week.collapsabled) == \"undefined\") {\r\n                    week.collapsabled = false;\r\n                }\r\n            }\r\n            return content;\r\n        }\r\n\r\n        return {\r\n            init: init\r\n        };\r\n    });"],"file":"setweeks.min.js"}
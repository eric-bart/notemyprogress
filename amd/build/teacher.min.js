define ("local_fliplearning/teacher",["local_fliplearning/vue","local_fliplearning/vuetify","local_fliplearning/axios","local_fliplearning/pagination","local_fliplearning/chartstatic","local_fliplearning/pageheader","local_fliplearning/helpdialog"],function(a,b,c,d,e,f,g){"use strict";return{init:function(c){a.use(b);a.component("pagination",d);a.component("chart",e);a.component("pageheader",f);a.component("helpdialog",g);var h=new a({delimiters:["[[","]]"],el:"#teacher",vuetify:new b,data:function data(){return{strings:c.strings,groups:c.groups,userid:c.userid,courseid:c.courseid,timezone:c.timezone,render_has:c.profile_render,indicators:c.indicators,week_resources_colors:c.week_resources_colors,search:null,week_resources_categories:[],week_resources_data:[],help_dialog:!1,help_contents:[]}},beforeMount:function beforeMount(){this.calculate_week_resources()},mounted:function mounted(){document.querySelector("#sessions-loader").style.display="none";document.querySelector("#teacher").style.display="block"},methods:{get_help_content:function get_help_content(){var a=[{title:this.strings.section_help_title,description:this.strings.section_help_description}];return a},get_course_grade:function get_course_grade(){var a=+this.indicators.course.grademax;return this.isInt(a)?a:a.toFixed(2)},calculate_week_resources:function calculate_week_resources(){var a=[],b=[],c;this.indicators.weeks.forEach(function(d){c="".concat(d.name," ").concat(d.position+1);a.push(c);b.push(d.cms)});var d=this.capitalizeFirstLetter(this.strings.teacher_indicators_modules);this.week_resources_categories=a;this.week_resources_data=[{name:d,data:b}]},build_week_resources_chart:function build_week_resources_chart(){var a={};a.chart={type:"bar",backgroundColor:null,style:{fontFamily:"poppins"}};a.title={text:null};a.colors=this.week_resources_colors;a.xAxis={categories:this.week_resources_categories};a.yAxis={min:0,title:{text:this.strings.teacher_indicators_week_resources_yaxis_title}};a.legend={enabled:!1};a.series=this.week_resources_data;return a},build_weeks_sessions_chart:function build_weeks_sessions_chart(){var a={};a.chart={type:"heatmap",backgroundColor:null,style:{fontFamily:"poppins"}};a.title={text:null};a.xAxis={categories:this.strings.weeks};a.yAxis={categories:this.indicators.sessions.categories,title:null,reversed:!0};a.colorAxis={min:0,minColor:"#E0E0E0",maxColor:"#118AB2"};a.legend={layout:"horizontal",verticalAlign:"bottom"};a.tooltip={formatter:function formatter(){var a=h.indicators.sessions.weeks[this.point.y][this.point.x]||"",b=h.get_point_category_name(this.point,"x"),c=h.get_point_category_name(this.point,"y"),d=h.strings.teacher_indicators_sessions;if(1==this.point.value){d=h.strings.teacher_indicators_session}return"<b>"+c+" "+b+"</b>: "+this.point.value+" "+d+"<br/>"+a}};a.series=[{borderWidth:2,borderColor:"#FAFAFA",data:this.indicators.sessions.data}];return a},table_headers:function table_headers(){var a=[{text:"",value:"id",align:"center",sortable:!1},{text:this.strings.thead_name,value:"firstname"},{text:this.strings.thead_lastname,value:"lastname"},{text:this.strings.thead_email,value:"email"},{text:this.strings.thead_progress,value:"progress_percentage",align:"center"},{text:this.strings.thead_sessions,value:"sessions_number",align:"center"},{text:this.strings.thead_time,value:"inverted_time",align:"center"}];return a},get_picture_url:function get_picture_url(a){var b="".concat(M.cfg.wwwroot,"/user/pix.php?file=/").concat(a,"/f1.jpg");return b},get_percentage_progress:function get_percentage_progress(a){return"".concat(a," %")},get_progress_tooltip:function get_progress_tooltip(a){var b=this.strings.teacher_indicators_modules,c=this.strings.teacher_indicators_finished;if(1==a.cms.complete){b=this.strings.teacher_indicators_module;c=this.strings.teacher_indicators_finalized}return"".concat(a.cms.complete," ").concat(b," ").concat(c," ").concat(this.strings.of_conector," ").concat(a.cms.total)},get_point_category_name:function get_point_category_name(a,b){var c=a.series,d="y"===b,e=c[d?"yAxis":"xAxis"];return e.categories[a[d?"y":"x"]]},capitalizeFirstLetter:function capitalizeFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)},isInt:function isInt(a){return 0==a%1},open_chart_help:function open_chart_help(a){var b=[];if("week_resources"==a){b.push({title:this.strings.week_resources_help_title,description:this.strings.week_resources_help_description_p1});b.push({description:this.strings.week_resources_help_description_p2})}else if("weeks_sessions"==a){b.push({title:this.strings.weeks_sessions_help_title,description:this.strings.week_sessions_help_description_p1});b.push({description:this.strings.week_sessions_help_description_p2})}else if("progress_table"==a){b.push({title:this.strings.progress_table_help_title,description:this.strings.progress_table_help_description})}this.help_contents=b;if(this.help_contents.length){this.help_dialog=!0}},update_help_dialog:function update_help_dialog(a){this.help_dialog=a},get_timezone:function get_timezone(){var a="".concat(this.strings.ss_change_timezone," ").concat(this.timezone);return a}}})}}});
//# sourceMappingURL=teacher.min.js.map
